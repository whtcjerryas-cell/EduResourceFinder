# 前端功能使用指南

## 🎯 新增功能

### 1. Debug 日志弹窗

**位置**: 页面头部，点击 "🐛 Debug日志" 按钮

**功能**:
- ✅ 实时显示所有 `console.log`, `console.error`, `console.warn`, `console.info` 输出
- ✅ 自动捕获页面加载、API 调用、错误等所有日志
- ✅ 支持清空日志
- ✅ 支持导出日志为文本文件
- ✅ 支持自动滚动开关
- ✅ 支持过滤只显示错误日志

**使用方法**:
1. 点击页面头部的 "🐛 Debug日志" 按钮
2. 弹窗中会显示所有日志信息
3. 使用控制按钮：
   - **清空日志**: 清空所有日志记录
   - **导出日志**: 导出为文本文件（`debug_log_YYYY-MM-DD.txt`）
   - **自动滚动**: 开启/关闭自动滚动到底部
   - **只显示错误**: 勾选后只显示错误级别的日志

**日志级别颜色**:
- 🔴 **错误** (error): 红色
- 🟡 **警告** (warning): 黄色
- 🔵 **信息** (info): 青色
- 🟢 **调试** (debug): 绿色

---

### 2. 版本号显示

**位置**: 页面头部，标题下方

**显示内容**:
```
版本: V3.1.0 | 构建时间: 2025-12-29 16:13 | [🐛 Debug日志]
```

**说明**:
- **版本号**: 固定显示 `V3.1.0`
- **构建时间**: 每次刷新页面时自动更新为当前时间
- **Debug按钮**: 快速打开日志弹窗

**更新版本号**:
在 `templates/index.html` 中修改：
```javascript
const APP_VERSION = 'V3.1.0';  // 修改这里
```

---

### 3. 搜索历史分页

**功能**:
- ✅ 每页最多显示 5 条历史记录
- ✅ 分页控件显示当前页码和总页数
- ✅ 支持上一页/下一页导航
- ✅ 筛选后自动重置到第一页

**分页控件**:
```
[上一页]  第 1 / 3 页（共 15 条）  [下一页]
```

**使用方法**:
1. 历史记录默认每页显示 5 条
2. 使用分页控件切换页面：
   - 点击 **上一页** 查看更早的记录
   - 点击 **下一页** 查看更新的记录
3. 应用筛选后，会自动重置到第一页

**注意事项**:
- 首页时"上一页"按钮自动禁用
- 末页时"下一页"按钮自动禁用
- 切换页面后会自动滚动到历史记录区域顶部

---

## 📋 功能验证清单

### Debug 日志弹窗
- [ ] 点击 "🐛 Debug日志" 按钮可以打开弹窗
- [ ] 弹窗中显示日志信息
- [ ] 日志按时间戳排序
- [ ] 不同级别的日志显示不同颜色
- [ ] "清空日志" 按钮可以清空所有日志
- [ ] "导出日志" 按钮可以导出文本文件
- [ ] "自动滚动" 开关可以控制自动滚动
- [ ] "只显示错误" 复选框可以过滤日志

### 版本号显示
- [ ] 页面头部显示版本号 `V3.1.0`
- [ ] 显示构建时间（当前时间）
- [ ] 刷新页面后构建时间更新

### 搜索历史分页
- [ ] 历史记录每页显示 5 条
- [ ] 分页控件显示正确的页码信息
- [ ] "上一页" 和 "下一页" 按钮正常工作
- [ ] 首页时"上一页"按钮禁用
- [ ] 末页时"下一页"按钮禁用
- [ ] 应用筛选后重置到第一页
- [ ] 切换页面后滚动到历史记录区域

---

## 🔍 调试技巧

### 查看 API 调用日志
1. 打开 Debug 日志弹窗
2. 执行搜索操作
3. 查看日志中的 API 调用信息：
   - `开始加载国家列表...`
   - `API 响应状态: 200`
   - `搜索响应: 成功=true, 结果数=5`

### 查看错误信息
1. 打开 Debug 日志弹窗
2. 勾选 "只显示错误" 复选框
3. 查看所有错误级别的日志（红色显示）

### 导出日志文件
1. 打开 Debug 日志弹窗
2. 点击 "导出日志" 按钮
3. 文件会自动下载为 `debug_log_YYYY-MM-DD.txt`

---

## 🎨 界面预览

### 页面头部
```
🎓 教育视频搜索系统
基于国家、年级、学期搜索高质量教育视频资源
版本: V3.1.0 | 构建时间: 2025-12-29 16:13 | [🐛 Debug日志]
```

### Debug 弹窗
```
┌─────────────────────────────────────────┐
│ 🐛 Debug 日志                    [×]   │
├─────────────────────────────────────────┤
│ [清空日志] [导出日志] [自动滚动: 开启] │
│ [☑] 只显示错误                          │
├─────────────────────────────────────────┤
│ [16:13:45] [INFO] 页面加载完成...      │
│ [16:13:45] [INFO] 开始加载国家列表...  │
│ [16:13:46] [INFO] API 响应状态: 200    │
│ ...                                     │
└─────────────────────────────────────────┘
```

### 历史记录分页
```
┌─────────────────────────────────────────┐
│ 📚 搜索历史                             │
├─────────────────────────────────────────┤
│ [历史记录1]                             │
│ [历史记录2]                             │
│ [历史记录3]                             │
│ [历史记录4]                             │
│ [历史记录5]                             │
├─────────────────────────────────────────┤
│ [上一页]  第 1 / 3 页（共 15 条） [下一页] │
└─────────────────────────────────────────┘
```

---

## 📝 更新日志

### V3.1.0 (2025-12-29)
- ✅ 添加 Debug 日志弹窗
- ✅ 添加版本号显示
- ✅ 实现搜索历史分页（每页5条）

---

**文档版本**: V3.1.0  
**最后更新**: 2025-12-29  
**维护者**: AI Assistant

