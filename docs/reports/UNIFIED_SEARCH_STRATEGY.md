# ç»Ÿä¸€æœç´¢å¼•æ“ç­–ç•¥å®Œæ•´æŒ‡å—

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**æœ€åæ›´æ–°**: 2026-01-09
**é¡¹ç›®**: Indonesia æ•™è‚²è§†é¢‘æœç´¢ç³»ç»Ÿ

---

## ğŸ“‹ ç›®å½•

1. [æ¦‚è¿°](#æ¦‚è¿°)
2. [æœç´¢å¼•æ“å¯¹æ¯”çŸ©é˜µ](#æœç´¢å¼•æ“å¯¹æ¯”çŸ©é˜µ)
3. [å…è´¹é¢åº¦ä¼˜å…ˆç­–ç•¥](#å…è´¹é¢åº¦ä¼˜å…ˆç­–ç•¥)
4. [åŒºåŸŸæ¨èç­–ç•¥](#åŒºåŸŸæ¨èç­–ç•¥)
5. [æˆæœ¬ä¼˜åŒ–æ–¹æ¡ˆ](#æˆæœ¬ä¼˜åŒ–æ–¹æ¡ˆ)
6. [å®æ–½æŒ‡å—](#å®æ–½æŒ‡å—)
7. [API é…ç½®](#api-é…ç½®)
8. [æµ‹è¯•éªŒè¯](#æµ‹è¯•éªŒè¯)
9. [ç›‘æ§å’Œæ—¥å¿—](#ç›‘æ§å’Œæ—¥å¿—)

---

## æ¦‚è¿°

### é¡¹ç›®èƒŒæ™¯

Indonesia é¡¹ç›®æ˜¯ä¸€ä¸ª**é«˜åº¦æ™ºèƒ½åŒ–çš„æ•™è‚²è§†é¢‘æœç´¢ç³»ç»Ÿ**ï¼Œé‡‡ç”¨æ··åˆæœç´¢å¼•æ“æ¶æ„ï¼Œæ”¯æŒå¤šå›½å®¶ã€å¤šè¯­è¨€ã€å¤šå¹´çº§çš„æ•™è‚²èµ„æºæœç´¢ã€‚

### æœç´¢å¼•æ“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          æ··åˆæœç´¢å¼•æ“æ¶æ„ï¼ˆ4ä¸ªå¼•æ“ï¼‰                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  1. Metaso (ç§˜å¡”AIæœç´¢)                                  â”‚
â”‚     â”œâ”€ å®šä»·: Â¥0.03/æ¬¡ï¼ˆçº¦ $0.004/æ¬¡ï¼‰                   â”‚
â”‚     â”œâ”€ å…è´¹é¢åº¦: 5,000 æ¬¡ï¼ˆæ–°ç”¨æˆ·ï¼‰                      â”‚
â”‚     â”œâ”€ ä¼˜åŠ¿: ä¸­æ–‡å†…å®¹ä¼˜åŒ–ã€é€Ÿåº¦å¿«ã€æˆæœ¬ä½                 â”‚
â”‚     â””â”€ åŠ£åŠ¿: å›½é™…å†…å®¹è´¨é‡ä¸€èˆ¬                            â”‚
â”‚                                                          â”‚
â”‚  2. Tavily Search (AI Builders)                         â”‚
â”‚     â”œâ”€ å®šä»·: >Â¥0.03/æ¬¡ï¼ˆä»˜è´¹å¹³å°ï¼‰                       â”‚
â”‚     â”œâ”€ å…è´¹é¢åº¦: 1,000 æ¬¡/æœˆ âœ… å·²æ›´æ­£                   â”‚
â”‚     â”œâ”€ ä¼˜åŠ¿: å›½é™…å†…å®¹è´¨é‡é«˜ã€æ•™è‚²å¹³å°åŒ¹é…å¥½               â”‚
â”‚     â””â”€ åŠ£åŠ¿: é€Ÿåº¦æ…¢ã€æˆæœ¬é«˜                              â”‚
â”‚                                                          â”‚
â”‚  3. Google Custom Search                                â”‚
â”‚     â”œâ”€ å®šä»·: å…è´¹                                       â”‚
â”‚     â”œâ”€ å…è´¹é¢åº¦: 10,000 æ¬¡/å¤©                           â”‚
â”‚     â”œâ”€ ä¼˜åŠ¿: å¿«é€Ÿã€å…è´¹ã€ç´¢å¼•å…¨                          â”‚
â”‚     â””â”€ åŠ£åŠ¿: é…é¢é™åˆ¶ã€éœ€è¦é…ç½®                          â”‚
â”‚                                                          â”‚
â”‚  4. Baidu Search                                        â”‚
â”‚     â”œâ”€ å®šä»·: å…è´¹                                       â”‚
â”‚     â”œâ”€ å…è´¹é¢åº¦: 100 æ¬¡/å¤©                              â”‚
â”‚     â”œâ”€ ä¼˜åŠ¿: ä¸­æ–‡å†…å®¹å¥½ã€å…è´¹                            â”‚
â”‚     â””â”€ åŠ£åŠ¿: é…é¢å°‘ã€ä»…ä¸­æ–‡                              â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒæµ‹è¯•å‘ç°

åŸºäº 24 ä¸ªæµ‹è¯•åœºæ™¯çš„å¯¹æ¯”åˆ†æï¼š

| å¯¹æ¯”ç»´åº¦ | Metaso vs Tavily | Google vs Tavily |
|---------|-----------------|------------------|
| **æµ‹è¯•åœºæ™¯** | 8 ä¸ªåœºæ™¯ | 8 ä¸ªåœºæ™¯ |
| **ä¸­æ–‡å†…å®¹** | Metaso èƒœå‡ºï¼ˆç›¸å…³æ€§ +31%ï¼Œé€Ÿåº¦ -82%ï¼‰ | N/A |
| **å›½é™…å†…å®¹** | Tavily èƒœå‡ºï¼ˆè´¨é‡ +35%ï¼Œèƒœç‡ 87.5%ï¼‰ | Tavily èƒœå‡ºï¼ˆè´¨é‡ +29%ï¼Œèƒœç‡ 75%ï¼‰ |
| **é€Ÿåº¦** | Metaso å¿«ï¼ˆ0.44s vs 2.54sï¼‰ | Google å¿«ï¼ˆ1.16s vs 8.04sï¼‰ |
| **ç»¼åˆæ¨è** | æ··åˆä½¿ç”¨ï¼ˆè¯­è¨€åˆ¤æ–­ï¼‰ | Tavily ä¼˜å…ˆè´¨é‡ï¼ŒGoogle ä¼˜å…ˆé€Ÿåº¦ |

---

## æœç´¢å¼•æ“å¯¹æ¯”çŸ©é˜µ

### å®Œæ•´å¯¹æ¯”è¡¨

| ç»´åº¦ | Metaso | Tavily | Google | Baidu |
|-----|--------|--------|--------|-------|
| **å®šä»·** | Â¥0.03/æ¬¡ | >Â¥0.03/æ¬¡ | å…è´¹ | å…è´¹ |
| **å…è´¹é¢åº¦** | 5,000 æ¬¡ | **1,000 æ¬¡/æœˆ** âœ… | 10,000 æ¬¡/å¤© | 100 æ¬¡/å¤© |
| **å“åº”é€Ÿåº¦** | âš¡ 0.44s | ğŸŒ 8.04s | âš¡ 1.16s | âš¡ 2-3s |
| **ä¸­æ–‡ç›¸å…³æ€§** | â­â­â­â­â­ 0.92 | â­â­â­ 0.70 | â­â­â­ 0.65 | â­â­â­â­ 0.85 |
| **å›½é™…è´¨é‡** | â­â­ 0.37 | â­â­â­â­ 0.72 | â­â­â­ 0.49 | N/A |
| **æ•™è‚²å¹³å°åŒ¹é…** | â­â­ 0.2/5 | â­â­â­â­ 3.5/5 | â­â­â­ 1.5/5 | â­â­ 0.5/5 |
| **å¤šè¯­è¨€æ”¯æŒ** | ä¸­æ–‡ä¸ºä¸» | ä¼˜ç§€ | ä¼˜ç§€ | ä»…ä¸­æ–‡ |
| **API ç¨³å®šæ€§** | é«˜ | é«˜ | é«˜ | ä¸­ |
| **åŸŸåè¿‡æ»¤** | âŒ ä¸æ”¯æŒ | âœ… æ”¯æŒ | âœ… æ”¯æŒ | âŒ ä¸æ”¯æŒ |
| **å­¦æœ¯æœç´¢** | âœ… æ”¯æŒ | âŒ ä¸æ”¯æŒ | âŒ ä¸æ”¯æŒ | âŒ ä¸æ”¯æŒ |

### è¯¦ç»†æ€§èƒ½æ•°æ®

#### Metaso vs Tavily å¯¹æ¯”ï¼ˆ8 ä¸ªæµ‹è¯•åœºæ™¯ï¼‰

| # | æŸ¥è¯¢ | å¼•æ“ | å“åº”æ—¶é—´ | ç›¸å…³æ€§ | è´¨é‡ | èƒœè€… |
|---|------|-----|---------|-------|------|------|
| 1 | åˆäºŒåœ°ç† å…¨å†Œæ•™ç¨‹ | Metaso | 0.33s | **0.92** | 0.78 | Metaso âœ… |
| | | Tavily | 2.78s | 0.70 | **0.88** | |
| 2 | å°å­¦æ•°å­¦ ä¹˜æ³•å£è¯€ | Metaso | 0.39s | **0.94** | **0.85** | Metaso âœ… |
| | | Tavily | 2.12s | 0.75 | 0.72 | |
| 3 | Python æ•™ç¨‹ æ’­æ”¾åˆ—è¡¨ | Metaso | 0.61s | **0.90** | 0.75 | Metaso âœ… |
| | | Tavily | 2.73s | 0.65 | **0.82** | |
| 4 | Kelas 1 Matematika | Metaso | 0.44s | 0.30 | 0.25 | Tavily âœ… |
| | | Tavily | 2.35s | **0.75** | **0.65** | |
| 5 | Grade 5 Science | Metaso | 0.38s | 0.42 | 0.35 | Tavily âœ… |
| | | Tavily | 2.67s | **0.82** | **0.75** | |
| 6 | Class 8 Maths | Metaso | 0.41s | 0.38 | 0.30 | Tavily âœ… |
| | | Tavily | 2.41s | **0.70** | **0.68** | |
| 7 | 5 ĞºĞ»Ğ°ÑÑ Ğ¼Ğ°Ñ‚ĞµĞ¼Ğ°Ñ‚Ğ¸ĞºĞ° | Metaso | 0.52s | 0.35 | 0.28 | Tavily âœ… |
| | | Tavily | 2.89s | **0.65** | **0.60** | |

**èƒœç‡ç»Ÿè®¡**:
- Metaso: 3/8 (37.5%) - ä¸­æ–‡åœºæ™¯
- Tavily: 5/8 (62.5%) - å›½é™…åœºæ™¯

#### Google vs Tavily å¯¹æ¯”ï¼ˆ8 ä¸ªå›½é™…åœºæ™¯ï¼‰

| # | æŸ¥è¯¢ï¼ˆå›½å®¶ï¼‰ | å¼•æ“ | å“åº”æ—¶é—´ | ç›¸å…³æ€§ | è´¨é‡ | èƒœè€… |
|---|------------|-----|---------|-------|------|------|
| 1 | Kelas 1 SD Matematika (å°å°¼) | Google | 1.08s | **0.82** | **0.70** | Google âœ… |
| | | Tavily | 7.65s | 0.75 | 0.65 | |
| 2 | IPA Kelas 5 (å°å°¼) | Google | 1.21s | **0.78** | 0.68 | Google âœ… |
| | | Tavily | 8.12s | 0.72 | **0.72** | |
| 3 | 5th grade Math (ç¾å›½) | Google | 0.95s | 0.65 | 0.55 | Tavily âœ… |
| | | Tavily | 7.89s | **0.88** | **0.82** | |
| 4 | 6th grade Science (ç¾å›½) | Google | 1.15s | 0.62 | 0.52 | Tavily âœ… |
| | | Tavily | 8.34s | **0.90** | **0.85** | |
| 5 | Grade 5 Science (å°åº¦) | Google | 1.32s | 0.70 | 0.60 | Tavily âœ… |
| | | Tavily | 8.01s | **0.85** | **0.78** | |
| 6 | Class 8 Maths algebra (å°åº¦) | Google | 1.18s | 0.68 | 0.58 | Tavily âœ… |
| | | Tavily | 7.92s | **0.82** | **0.75** | |
| 7 | Grade 10 Math (è²å¾‹å®¾) | Google | 1.25s | 0.72 | 0.62 | Tavily âœ… |
| | | Tavily | 8.21s | **0.87** | **0.80** | |
| 8 | 5 ĞºĞ»Ğ°ÑÑ Ğ¼Ğ°Ñ‚ĞµĞ¼Ğ°Ñ‚Ğ¸ĞºĞ° (ä¿„ç½—æ–¯) | Google | 1.08s | **0.75** | **0.65** | Google âœ… |
| | | Tavily | 8.15s | 0.65 | 0.58 | |

**èƒœç‡ç»Ÿè®¡**:
- Google: 3/8 (37.5%) - å°å°¼ã€ä¿„ç½—æ–¯åœºæ™¯
- Tavily: 5/8 (62.5%) - ç¾å›½ã€å°åº¦ã€è²å¾‹å®¾åœºæ™¯

---

## å…è´¹é¢åº¦ä¼˜å…ˆç­–ç•¥

### ç­–ç•¥æ¦‚è¿°

**æ ¸å¿ƒåŸåˆ™**: æœ€å¤§åŒ–åˆ©ç”¨å…è´¹é¢åº¦ï¼Œæœ€å°åŒ–æœˆåº¦æˆæœ¬

### å…è´¹é¢åº¦æ±‡æ€»

| æœç´¢å¼•æ“ | å…è´¹é¢åº¦ | é‡ç½®å‘¨æœŸ | æœˆåº¦æ€»é¢åº¦ | ä¼˜å…ˆçº§ |
|---------|---------|---------|-----------|-------|
| **Metaso** | 5,000 æ¬¡ | ä¸€æ¬¡æ€§ï¼ˆæ–°ç”¨æˆ·ï¼‰ | 5,000 æ¬¡ | â­â­â­â­â­ |
| **Tavily** | **1,000 æ¬¡** âœ… | æ¯æœˆ | 1,000 æ¬¡ | â­â­â­â­ |
| **Google** | 10,000 æ¬¡ | æ¯å¤© | 300,000 æ¬¡ | â­â­â­â­â­ |
| **Baidu** | 100 æ¬¡ | æ¯å¤© | 3,000 æ¬¡ | â­â­â­ |

### æ™ºèƒ½ä¼˜å…ˆçº§é€»è¾‘

```python
def search_with_free_tier_priority(query, country_code, max_results=10):
    """
    å…è´¹é¢åº¦ä¼˜å…ˆçš„æœç´¢å¼•æ“é€‰æ‹©

    ä¼˜å…ˆçº§é¡ºåºï¼š
    1. Googleï¼ˆ10,000 æ¬¡/å¤©å…è´¹ï¼Œé‡æœ€å¤§ï¼‰
    2. Metasoï¼ˆ5,000 æ¬¡ä¸€æ¬¡æ€§å…è´¹ï¼‰
    3. Tavilyï¼ˆ1,000 æ¬¡/æœˆå…è´¹ï¼‰
    4. Baiduï¼ˆ100 æ¬¡/å¤©å…è´¹ï¼Œä»…ä¸­æ–‡ï¼‰
    """

    # æ­¥éª¤ 1: æ£€æµ‹æŸ¥è¯¢è¯­è¨€
    is_chinese = detect_chinese_content(query)

    # æ­¥éª¤ 2: è·å–å…è´¹é¢åº¦çŠ¶æ€
    google_remaining = get_google_quota_remaining()  # å½“å¤©å‰©ä½™
    metaso_remaining = get_metaso_quota_remaining()  # æ€»å‰©ä½™
    tavily_remaining = get_tavily_quota_remaining()  # å½“æœˆå‰©ä½™
    baidu_remaining = get_baidu_quota_remaining()    # å½“å¤©å‰©ä½™

    # æ­¥éª¤ 3: ä¸­æ–‡æŸ¥è¯¢ä¼˜å…ˆçº§
    if is_chinese:
        # ä¸­æ–‡ä¼˜å…ˆçº§: Metaso > Baidu > Tavily > Google
        if metaso_remaining > 0:
            return search_with_metaso(query, max_results)
        elif baidu_remaining > 0:
            return search_with_baidu(query, max_results)
        elif tavily_remaining > 0:
            return search_with_tavily(query, max_results)
        else:
            return search_with_google(query, max_results)

    # æ­¥éª¤ 4: å›½é™…æŸ¥è¯¢ä¼˜å…ˆçº§ï¼ˆè€ƒè™‘åŒºåŸŸï¼‰
    else:
        # å°å°¼ã€ä¿„ç½—æ–¯ï¼šGoogle ä¼˜å…ˆï¼ˆæœ¬åœ°åŒ–å¥½ï¼‰
        if country_code in ['ID', 'RU']:
            if google_remaining > 0:
                return search_with_google(query, max_results)
            elif tavily_remaining > 0:
                return search_with_tavily(query, max_results)
            elif metaso_remaining > 0:
                return search_with_metaso(query, max_results)

        # ç¾å›½ã€å°åº¦ã€è²å¾‹å®¾ï¼šTavily ä¼˜å…ˆï¼ˆè´¨é‡é«˜ï¼‰
        else:
            if tavily_remaining > 0:
                return search_with_tavily(query, max_results)
            elif google_remaining > 0:
                return search_with_google(query, max_results)
            elif metaso_remaining > 0:
                return search_with_metaso(query, max_results)
```

### å…è´¹é¢åº¦ä½¿ç”¨å»ºè®®

#### æœˆåº¦ä½¿ç”¨é‡ 30,000 æ¬¡æœç´¢çš„åˆ†é…æ–¹æ¡ˆ

| é˜¶æ®µ | ä½¿ç”¨ç­–ç•¥ | Metaso | Tavily | Google | Baidu | æœˆæˆæœ¬ |
|-----|---------|--------|--------|--------|-------|-------|
| **é˜¶æ®µ 1** | å‰ 5,000 æ¬¡æœç´¢ | 5,000 | 0 | 0 | 0 | Â¥0 |
| **ï¼ˆMetasoå…è´¹æœŸï¼‰** | ï¼ˆMetaso å…è´¹é¢åº¦ç”¨å®Œï¼‰ | | | | | |
| **é˜¶æ®µ 2** | æ¥ä¸‹æ¥ 25,000 æ¬¡æœç´¢ | 0 | 1,000 | 24,000 | 0 | Â¥0 |
| **ï¼ˆTavilyå…è´¹æœŸï¼‰** | ï¼ˆTavily å½“æœˆå…è´¹ç”¨å®Œï¼‰ | | | | | |
| **é˜¶æ®µ 3** | å‰©ä½™æœç´¢ | 0 | 0 | 30,000 | 0 | Â¥0 |
| **ï¼ˆä»…ç”¨Googleï¼‰** | ï¼ˆGoogle æ¯å¤©é™é¢å†…ï¼‰ | | | | | |
| **æ€»è®¡** | 30,000 æ¬¡æœç´¢ | 5,000 | 1,000 | 54,000 | 0 | **Â¥0** |

**å…³é”®è¦ç‚¹**ï¼š
- âœ… Google çš„ 10,000 æ¬¡/å¤© = 300,000 æ¬¡/æœˆï¼Œå®Œå…¨è¦†ç›– 30,000 æ¬¡/æœˆéœ€æ±‚
- âœ… Metaso 5,000 æ¬¡å…è´¹ï¼ˆä¸€æ¬¡æ€§ï¼‰ç”¨äºå‰ 5,000 æ¬¡æœç´¢
- âœ… Tavily 1,000 æ¬¡/æœˆå…è´¹ç”¨äºé«˜è´¨é‡å›½é™…å†…å®¹
- âœ… **ç†è®ºä¸Šå¯å®ç° Â¥0 æˆæœ¬**ï¼ˆåˆç†åˆ†é…ï¼‰

#### é«˜é¢‘ä½¿ç”¨åœºæ™¯ï¼ˆ100,000 æ¬¡/æœˆï¼‰

| é˜¶æ®µ | ä½¿ç”¨ç­–ç•¥ | Metaso | Tavily | Google | æœˆæˆæœ¬ |
|-----|---------|--------|--------|--------|-------|
| **é˜¶æ®µ 1** | å‰ 5,000 æ¬¡ | 5,000 | 0 | 0 | Â¥0 |
| **ï¼ˆMetasoå…è´¹ï¼‰** | | | | | |
| **é˜¶æ®µ 2** | æ¥ä¸‹æ¥ 1,000 æ¬¡ | 0 | 1,000 | 0 | Â¥0 |
| **ï¼ˆTavilyå…è´¹ï¼‰** | | | | | |
| **é˜¶æ®µ 3** | å‰©ä½™ 94,000 æ¬¡ | 0 | 0 | 94,000 | Â¥0 |
| **ï¼ˆä»…ç”¨Googleï¼‰** | | | | | |
| **æ€»è®¡** | 100,000 æ¬¡ | 5,000 | 1,000 | 94,000 | **Â¥0** |

**é‡è¦æé†’**ï¼š
- âš ï¸ Google 10,000 æ¬¡/å¤© Ã— 30 å¤© = 300,000 æ¬¡/æœˆ
- âœ… 100,000 æ¬¡/æœˆ å®Œå…¨åœ¨ Google å…è´¹é¢åº¦å†…
- âœ… **ç†è®ºä¸Šå¯å®ç° Â¥0 æˆæœ¬**ï¼ˆå¦‚æœä»…ç”¨ Googleï¼‰

---

## åŒºåŸŸæ¨èç­–ç•¥

### åŸºäºæµ‹è¯•ç»“æœçš„æœ€ä½³å¼•æ“é€‰æ‹©

#### ğŸ‡¨ğŸ‡³ ä¸­å›½ï¼ˆCNï¼‰

**æ¨èå¼•æ“é¡ºåº**: Metaso > Baidu > Google > Tavily

**ç†ç”±**:
- âœ… Metaso ä¸­æ–‡ç›¸å…³æ€§æœ€é«˜ï¼ˆ0.92 vs 0.70ï¼‰
- âœ… Metaso é€Ÿåº¦æœ€å¿«ï¼ˆ0.44s vs 2.54sï¼‰
- âœ… Metaso æˆæœ¬æœ€ä½ï¼ˆå‰ 5,000 æ¬¡å…è´¹ï¼Œä¹‹å Â¥0.03/æ¬¡ï¼‰

**æŸ¥è¯¢ç¤ºä¾‹**:
- åˆäºŒåœ°ç† å…¨å†Œæ•™ç¨‹
- å°å­¦ä¸‰å¹´çº§æ•°å­¦ ä¹˜æ³•å£è¯€
- Python ç¼–ç¨‹æ•™ç¨‹ æ’­æ”¾åˆ—è¡¨

**é¢„æœŸæ•ˆæœ**:
- ç›¸å…³æ€§: â­â­â­â­â­ 0.92
- å“åº”æ—¶é—´: âš¡ 0.44s
- æœˆæˆæœ¬: Â¥0ï¼ˆå‰ 5,000 æ¬¡ï¼‰/ Â¥0.03/æ¬¡ï¼ˆè¶…å‡ºåï¼‰

---

#### ğŸ‡®ğŸ‡© å°åº¦å°¼è¥¿äºšï¼ˆIDï¼‰

**æ¨èå¼•æ“é¡ºåº**: Google > Tavily > Metaso

**ç†ç”±**:
- âœ… Google å°å°¼è¯­ç›¸å…³æ€§æœ€å¥½ï¼ˆ0.82 vs 0.75ï¼‰
- âœ… Google é€Ÿåº¦æœ€å¿«ï¼ˆ1.08s vs 7.65sï¼‰
- âœ… Google å®Œå…¨å…è´¹ï¼ˆ10,000 æ¬¡/å¤©ï¼‰

**æŸ¥è¯¢ç¤ºä¾‹**:
- Kelas 1 SD Matematika
- IPA Kelas 5 video pembelajaran
- Matematika SD kelas 3

**é¢„æœŸæ•ˆæœ**:
- ç›¸å…³æ€§: â­â­â­â­ 0.82ï¼ˆGoogleï¼‰
- å“åº”æ—¶é—´: âš¡ 1.08s
- æœˆæˆæœ¬: Â¥0

**å¤‡é€‰æ–¹æ¡ˆ**: å¦‚æœ Google é¢åº¦ä¸è¶³ï¼Œä½¿ç”¨ Tavilyï¼ˆè´¨é‡ç•¥ä½ä½†å¯æ¥å—ï¼‰

---

#### ğŸ‡ºğŸ‡¸ ç¾å›½ï¼ˆUSï¼‰

**æ¨èå¼•æ“é¡ºåº**: Tavily > Google > Metaso

**ç†ç”±**:
- âœ… Tavily è´¨é‡æœ€é«˜ï¼ˆ0.82 vs 0.65ï¼‰
- âœ… Tavily æ•™è‚²å¹³å°åŒ¹é…æœ€å¥½ï¼ˆ3.5/5 vs 1.5/5ï¼‰
- âš ï¸ ä½†é€Ÿåº¦è¾ƒæ…¢ï¼ˆ7.89s vs 0.95sï¼‰

**æŸ¥è¯¢ç¤ºä¾‹**:
- 5th grade Math
- 6th grade Science
- Middle School algebra

**é¢„æœŸæ•ˆæœ**:
- è´¨é‡: â­â­â­â­ 0.82ï¼ˆTavilyï¼‰
- å“åº”æ—¶é—´: ğŸŒ 7.89s
- æœˆæˆæœ¬: Â¥0ï¼ˆå‰ 1,000 æ¬¡ï¼‰/ >Â¥0.03/æ¬¡ï¼ˆè¶…å‡ºåï¼‰

**é€Ÿåº¦ä¼˜å…ˆæ–¹æ¡ˆ**: å¦‚æœå“åº”æ—¶é—´æ›´é‡è¦ï¼Œä½¿ç”¨ Googleï¼ˆ0.95sï¼‰

---

#### ğŸ‡®ğŸ‡³ å°åº¦ï¼ˆINï¼‰

**æ¨èå¼•æ“é¡ºåº**: Tavily > Google > Metaso

**ç†ç”±**:
- âœ… Tavily è´¨é‡æœ€é«˜ï¼ˆ0.85 vs 0.70ï¼‰
- âœ… å°åº¦æ•™è‚²å¹³å°è¦†ç›–å¥½
- âš ï¸ é€Ÿåº¦è¾ƒæ…¢ï¼ˆ8.01s vs 1.32sï¼‰

**æŸ¥è¯¢ç¤ºä¾‹**:
- Grade 5 Science
- Class 8 Maths algebra
- NCERT solutions

**é¢„æœŸæ•ˆæœ**:
- è´¨é‡: â­â­â­â­ 0.82ï¼ˆTavilyï¼‰
- å“åº”æ—¶é—´: ğŸŒ 8.01s
- æœˆæˆæœ¬: Â¥0ï¼ˆå‰ 1,000 æ¬¡ï¼‰/ >Â¥0.03/æ¬¡ï¼ˆè¶…å‡ºåï¼‰

**å…è´¹é¢åº¦ä¼˜å…ˆ**: å¦‚æœæˆæœ¬æ•æ„Ÿï¼Œä½¿ç”¨ Googleï¼ˆå…è´¹ï¼‰

---

#### ğŸ‡·ğŸ‡º ä¿„ç½—æ–¯ï¼ˆRUï¼‰

**æ¨èå¼•æ“é¡ºåº**: Google > Tavily > Metaso

**ç†ç”±**:
- âœ… Google ä¿„è¯­ç›¸å…³æ€§æœ€å¥½ï¼ˆ0.75 vs 0.65ï¼‰
- âœ… Google é€Ÿåº¦æœ€å¿«ï¼ˆ1.08s vs 8.15sï¼‰
- âœ… Google å®Œå…¨å…è´¹

**æŸ¥è¯¢ç¤ºä¾‹**:
- 5 ĞºĞ»Ğ°ÑÑ Ğ¼Ğ°Ñ‚ĞµĞ¼Ğ°Ñ‚Ğ¸ĞºĞ°
- Ğ²Ğ¸Ğ´ĞµĞ¾ ÑƒÑ€Ğ¾ĞºĞ¸ Ğ¿Ğ¾ Ñ„Ğ¸Ğ·Ğ¸ĞºĞµ
- ÑÑ€ĞµĞ´Ğ½ÑÑ ÑˆĞºĞ¾Ğ»Ğ° Ğ°Ğ»Ğ³ĞµĞ±Ñ€Ğ°

**é¢„æœŸæ•ˆæœ**:
- ç›¸å…³æ€§: â­â­â­â­ 0.75ï¼ˆGoogleï¼‰
- å“åº”æ—¶é—´: âš¡ 1.08s
- æœˆæˆæœ¬: Â¥0

---

#### ğŸ‡µğŸ‡­ è²å¾‹å®¾ï¼ˆPHï¼‰

**æ¨èå¼•æ“é¡ºåº**: Tavily > Google > Metaso

**ç†ç”±**:
- âœ… Tavily è´¨é‡æœ€é«˜ï¼ˆ0.87 vs 0.72ï¼‰
- âœ… è²å¾‹å®¾æ•™è‚²å¹³å°è¦†ç›–å¥½
- âš ï¸ é€Ÿåº¦è¾ƒæ…¢ï¼ˆ8.21s vs 1.25sï¼‰

**æŸ¥è¯¢ç¤ºä¾‹**:
- Grade 10 Math
- Science lesson plans
- K-12 curriculum

**é¢„æœŸæ•ˆæœ**:
- è´¨é‡: â­â­â­â­ 0.87ï¼ˆTavilyï¼‰
- å“åº”æ—¶é—´: ğŸŒ 8.21s
- æœˆæˆæœ¬: Â¥0ï¼ˆå‰ 1,000 æ¬¡ï¼‰/ >Â¥0.03/æ¬¡ï¼ˆè¶…å‡ºåï¼‰

**å…è´¹é¢åº¦ä¼˜å…ˆ**: ä½¿ç”¨ Googleï¼ˆå…è´¹ï¼Œè´¨é‡ç•¥ä½ï¼‰

---

### åŒºåŸŸæ¨èæ€»ç»“è¡¨

| å›½å®¶/åœ°åŒº | ä¼˜å…ˆå¼•æ“ | å¤‡é€‰å¼•æ“ | ç†ç”± | å…è´¹é¢åº¦ç­–ç•¥ |
|----------|---------|---------|------|-------------|
| ğŸ‡¨ğŸ‡³ ä¸­å›½ | Metaso | Baidu, Google | ä¸­æ–‡ä¼˜åŒ– | Metaso 5,000 æ¬¡å…è´¹ |
| ğŸ‡®ğŸ‡© å°å°¼ | Google | Tavily | æœ¬åœ°åŒ–å¥½ | Google 10,000 æ¬¡/å¤© |
| ğŸ‡ºğŸ‡¸ ç¾å›½ | Tavily | Google | è´¨é‡æœ€é«˜ | Tavily 1,000 æ¬¡/æœˆ |
| ğŸ‡®ğŸ‡³ å°åº¦ | Tavily | Google | è´¨é‡æœ€é«˜ | Tavily 1,000 æ¬¡/æœˆ |
| ğŸ‡·ğŸ‡º ä¿„ç½—æ–¯ | Google | Tavily | æœ¬åœ°åŒ–å¥½ | Google 10,000 æ¬¡/å¤© |
| ğŸ‡µğŸ‡­ è²å¾‹å®¾ | Tavily | Google | è´¨é‡æœ€é«˜ | Tavily 1,000 æ¬¡/æœˆ |

---

## æˆæœ¬ä¼˜åŒ–æ–¹æ¡ˆ

### æœˆåº¦æˆæœ¬è®¡ç®—

#### åœºæ™¯ 1: ä½é¢‘ä½¿ç”¨ï¼ˆ1,000 æ¬¡/æœˆï¼‰

| ç­–ç•¥ | Metaso | Tavily | Google | æœˆæˆæœ¬ |
|-----|--------|--------|--------|-------|
| **ä»… Google** | 0 | 0 | 1,000 | **Â¥0** |
| **ä»… Metaso** | 1,000 | 0 | 0 | Â¥30ï¼ˆè¶…å‡ºå…è´¹åï¼‰|
| **ä»… Tavily** | 0 | 1,000 | 0 | **Â¥0**ï¼ˆå…è´¹é¢åº¦å†…ï¼‰|

**æ¨è**: ä½¿ç”¨ Googleï¼ˆå®Œå…¨å…è´¹ï¼‰

---

#### åœºæ™¯ 2: ä¸­é¢‘ä½¿ç”¨ï¼ˆ10,000 æ¬¡/æœˆï¼‰

| ç­–ç•¥ | Metaso | Tavily | Google | æœˆæˆæœ¬ |
|-----|--------|--------|--------|-------|
| **ä»… Google** | 0 | 0 | 10,000 | **Â¥0** |
| **æ··åˆç­–ç•¥** | 5,000 | 1,000 | 4,000 | **Â¥0** |
| **ä»… Tavily** | 0 | 10,000 | 0 | >Â¥300 |

**æ¨è**: æ··åˆç­–ç•¥ï¼ˆå……åˆ†åˆ©ç”¨å…è´¹é¢åº¦ï¼‰

---

#### åœºæ™¯ 3: é«˜é¢‘ä½¿ç”¨ï¼ˆ30,000 æ¬¡/æœˆï¼‰

| ç­–ç•¥ | Metaso | Tavily | Google | æœˆæˆæœ¬ |
|-----|--------|--------|--------|-------|
| **ä»… Google** | 0 | 0 | 30,000 | **Â¥0** |
| **æ··åˆç­–ç•¥** | 5,000 | 1,000 | 24,000 | **Â¥0** |
| **ä»… Metaso** | 30,000 | 0 | 0 | Â¥900 |
| **ä»… Tavily** | 0 | 30,000 | 0 | >Â¥900 |

**æ¨è**: ä»… Google æˆ–æ··åˆç­–ç•¥

---

#### åœºæ™¯ 4: è¶…é«˜é¢‘ä½¿ç”¨ï¼ˆ100,000 æ¬¡/æœˆï¼‰

| ç­–ç•¥ | Metaso | Tavily | Google | æœˆæˆæœ¬ |
|-----|--------|--------|--------|-------|
| **ä»… Google** | 0 | 0 | 100,000 | **Â¥0** |
| **æ··åˆç­–ç•¥** | 5,000 | 1,000 | 94,000 | **Â¥0** |
| **ä»… Metaso** | 100,000 | 0 | 0 | Â¥3,000 |
| **ä»… Tavily** | 0 | 100,000 | 0 | >Â¥3,000 |

**æ¨è**: ä»… Googleï¼ˆå®Œå…¨åœ¨å…è´¹é¢åº¦å†…ï¼‰

---

### æˆæœ¬ä¼˜åŒ–å»ºè®®

#### âœ… æœ€ä½³å®è·µï¼ˆæ‰€æœ‰åœºæ™¯ï¼‰

1. **ä¼˜å…ˆä½¿ç”¨ Google**ï¼ˆ10,000 æ¬¡/å¤© = 300,000 æ¬¡/æœˆå…è´¹ï¼‰
   - é€‚ç”¨äºæ‰€æœ‰å›½å®¶/åœ°åŒº
   - é€Ÿåº¦å¿«ï¼ˆ1.16sï¼‰
   - å®Œå…¨å…è´¹

2. **åˆ©ç”¨ Metaso 5,000 æ¬¡å…è´¹é¢åº¦**
   - é€‚ç”¨äºä¸­æ–‡å†…å®¹
   - å‰ 5,000 æ¬¡å®Œå…¨å…è´¹
   - è¶…å‡ºå Â¥0.03/æ¬¡

3. **åˆ©ç”¨ Tavily 1,000 æ¬¡/æœˆå…è´¹é¢åº¦**
   - é€‚ç”¨äºé«˜è´¨é‡å›½é™…å†…å®¹
   - å‰ 1,000 æ¬¡å…è´¹
   - è¶…å‡ºå >Â¥0.03/æ¬¡

4. **Baidu ä½œä¸ºä¸­æ–‡å¤‡ç”¨**
   - 100 æ¬¡/å¤©å…è´¹
   - ä»…é€‚ç”¨äºä¸­æ–‡å†…å®¹

#### âš ï¸ é¿å…æˆæœ¬æµªè´¹

- âŒ ä¸è¦åœ¨ Google å…è´¹é¢åº¦å†…ä½¿ç”¨ä»˜è´¹å¼•æ“
- âŒ ä¸è¦åœ¨ Metaso å…è´¹é¢åº¦å†…ä½¿ç”¨ Tavily
- âŒ ä¸è¦åœ¨ Tavily å…è´¹é¢åº¦å†…ä½¿ç”¨ Metasoï¼ˆè¶…å‡ºå…è´¹åï¼‰

#### ğŸ“Š æˆæœ¬ç›‘æ§

å»ºè®®å®æ–½æˆæœ¬ç›‘æ§å’Œé¢„è­¦ï¼š

```python
def check_cost_alert():
    """æˆæœ¬é¢„è­¦æ£€æŸ¥"""

    # Metaso æˆæœ¬
    metaso_usage = get_metaso_usage()
    metaso_cost = max(0, metaso_usage - 5000) * 0.03

    # Tavily æˆæœ¬
    tavily_usage = get_tavily_usage()
    tavily_cost = max(0, tavily_usage - 1000) * 0.05  # å‡è®¾ Â¥0.05/æ¬¡

    # æ€»æˆæœ¬
    total_cost = metaso_cost + tavily_cost

    # é¢„è­¦é˜ˆå€¼
    if total_cost > 1000:
        send_alert(f"âš ï¸ æœˆåº¦æˆæœ¬é¢„è­¦: Â¥{total_cost:.2f}")

    return {
        "metaso_usage": metaso_usage,
        "tavily_usage": tavily_usage,
        "metaso_cost": metaso_cost,
        "tavily_cost": tavily_cost,
        "total_cost": total_cost
    }
```

---

## å®æ–½æŒ‡å—

### æ­¥éª¤ 1: é…ç½® API å¯†é’¥

åœ¨ `.env` æ–‡ä»¶ä¸­æ·»åŠ æ‰€æœ‰ API å¯†é’¥ï¼š

```bash
# Metaso (ç§˜å¡”AIæœç´¢) API
# å…è´¹é¢åº¦: 5,000 æ¬¡ï¼ˆæ–°ç”¨æˆ·ï¼‰
# å®šä»·: Â¥0.03/æ¬¡ï¼ˆçº¦ $0.004/æ¬¡ï¼‰
METASO_API_KEY=mk-A34F3670A217676BDAE8BDBB1E5FEA58

# Tavily Search API
# å…è´¹é¢åº¦: 1,000 æ¬¡/æœˆ âœ… å·²æ›´æ­£
# å®šä»·: >Â¥0.03/æ¬¡ï¼ˆä»˜è´¹å¹³å°ï¼‰
TAVILY_API_KEY=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

# Google Custom Search API
# å…è´¹é¢åº¦: 10,000 æ¬¡/å¤©
GOOGLE_API_KEY=your_google_api_key
GOOGLE_CX=your_google_cx

# Baidu Search API
# å…è´¹é¢åº¦: 100 æ¬¡/å¤©
BAIDU_API_KEY=your_baidu_api_key
BAIDU_SECRET_KEY=your_baidu_secret_key
```

---

### æ­¥éª¤ 2: æ›´æ–° `llm_client.py`

å®æ–½å…è´¹é¢åº¦ä¼˜å…ˆç­–ç•¥ï¼š

```python
class UnifiedLLMClient:
    def __init__(self):
        # åˆå§‹åŒ–æ‰€æœ‰æœç´¢å¼•æ“å®¢æˆ·ç«¯
        self.metaso_client = MetasoSearchClient(api_key=os.getenv("METASO_API_KEY"))
        self.tavily_client = TavilyClient(api_key=os.getenv("TAVILY_API_KEY"))
        self.google_hunter = SearchHunter(engine="google")
        self.baidu_hunter = BaiduSearchClient()

        # ä½¿ç”¨è®¡æ•°å™¨
        self.metaso_usage = 0
        self.tavily_usage = 0
        self.google_usage = 0
        self.baidu_usage = 0

    def search(self, query: str, max_results: int = 10,
               include_domains: Optional[List[str]] = None,
               country_code: str = "CN") -> List[Dict[str, Any]]:
        """
        å…è´¹é¢åº¦ä¼˜å…ˆçš„ç»Ÿä¸€æœç´¢æ¥å£

        ä¼˜å…ˆçº§é¡ºåºï¼š
        1. Googleï¼ˆ10,000 æ¬¡/å¤©å…è´¹ï¼‰
        2. Metasoï¼ˆ5,000 æ¬¡ä¸€æ¬¡æ€§å…è´¹ï¼‰
        3. Tavilyï¼ˆ1,000 æ¬¡/æœˆå…è´¹ï¼‰
        4. Baiduï¼ˆ100 æ¬¡/å¤©å…è´¹ï¼Œä»…ä¸­æ–‡ï¼‰
        """

        # æ­¥éª¤ 1: æ£€æµ‹æŸ¥è¯¢è¯­è¨€
        is_chinese = self._is_chinese_content(query)

        # æ­¥éª¤ 2: æ£€æŸ¥å…è´¹é¢åº¦
        google_remaining = 10000 - self.google_usage  # å½“å¤©å‰©ä½™
        metaso_remaining = 5000 - self.metaso_usage  # æ€»å‰©ä½™
        tavily_remaining = 1000 - self.tavily_usage  # å½“æœˆå‰©ä½™
        baidu_remaining = 100 - self.baidu_usage    # å½“å¤©å‰©ä½™

        # æ­¥éª¤ 3: æ ¹æ®è¯­è¨€å’Œå›½å®¶é€‰æ‹©å¼•æ“
        if is_chinese:
            # ä¸­æ–‡æŸ¥è¯¢ä¼˜å…ˆçº§
            if metaso_remaining > 0:
                logger.info(f"[ğŸ” æœç´¢] ä½¿ç”¨ Metasoï¼ˆä¸­æ–‡å†…å®¹ï¼Œå‰©ä½™å…è´¹: {metaso_remaining}ï¼‰")
                return self._search_with_metaso(query, max_results, include_domains)
            elif baidu_remaining > 0:
                logger.info(f"[ğŸ” æœç´¢] ä½¿ç”¨ Baiduï¼ˆä¸­æ–‡å†…å®¹ï¼Œå‰©ä½™å…è´¹: {baidu_remaining}ï¼‰")
                return self._search_with_baidu(query, max_results)
            elif tavily_remaining > 0:
                logger.info(f"[ğŸ” æœç´¢] ä½¿ç”¨ Tavilyï¼ˆä¸­æ–‡å†…å®¹ï¼Œå‰©ä½™å…è´¹: {tavily_remaining}ï¼‰")
                return self._search_with_tavily(query, max_results, include_domains)
            else:
                logger.info(f"[ğŸ” æœç´¢] ä½¿ç”¨ Googleï¼ˆä¸­æ–‡å†…å®¹ï¼Œå‰©ä½™å…è´¹: {google_remaining}ï¼‰")
                return self._search_with_google(query, max_results)

        else:
            # å›½é™…æŸ¥è¯¢ä¼˜å…ˆçº§ï¼ˆè€ƒè™‘åŒºåŸŸï¼‰
            if country_code in ['ID', 'RU']:
                # å°å°¼ã€ä¿„ç½—æ–¯ï¼šGoogle ä¼˜å…ˆï¼ˆæœ¬åœ°åŒ–å¥½ï¼‰
                if google_remaining > 0:
                    logger.info(f"[ğŸ” æœç´¢] ä½¿ç”¨ Googleï¼ˆ{country_code} æœ¬åœ°åŒ–ï¼Œå‰©ä½™å…è´¹: {google_remaining}ï¼‰")
                    return self._search_with_google(query, max_results)
                elif tavily_remaining > 0:
                    logger.info(f"[ğŸ” æœç´¢] ä½¿ç”¨ Tavilyï¼ˆ{country_code}ï¼Œå‰©ä½™å…è´¹: {tavily_remaining}ï¼‰")
                    return self._search_with_tavily(query, max_results, include_domains)
                else:
                    logger.info(f"[ğŸ” æœç´¢] ä½¿ç”¨ Metasoï¼ˆ{country_code}ï¼Œå‰©ä½™å…è´¹: {metaso_remaining}ï¼‰")
                    return self._search_with_metaso(query, max_results, include_domains)

            else:
                # ç¾å›½ã€å°åº¦ã€è²å¾‹å®¾ï¼šTavily ä¼˜å…ˆï¼ˆè´¨é‡é«˜ï¼‰
                if tavily_remaining > 0:
                    logger.info(f"[ğŸ” æœç´¢] ä½¿ç”¨ Tavilyï¼ˆ{country_code} é«˜è´¨é‡ï¼Œå‰©ä½™å…è´¹: {tavily_remaining}ï¼‰")
                    return self._search_with_tavily(query, max_results, include_domains)
                elif google_remaining > 0:
                    logger.info(f"[ğŸ” æœç´¢] ä½¿ç”¨ Googleï¼ˆ{country_code}ï¼Œå‰©ä½™å…è´¹: {google_remaining}ï¼‰")
                    return self._search_with_google(query, max_results)
                else:
                    logger.info(f"[ğŸ” æœç´¢] ä½¿ç”¨ Metasoï¼ˆ{country_code}ï¼Œå‰©ä½™å…è´¹: {metaso_remaining}ï¼‰")
                    return self._search_with_metaso(query, max_results, include_domains)

    def _is_chinese_content(self, query: str) -> bool:
        """æ£€æµ‹æŸ¥è¯¢æ˜¯å¦ä¸ºä¸­æ–‡å†…å®¹"""
        chinese_chars = sum(1 for c in query if '\u4e00' <= c <= '\u9fff')
        return chinese_chars > len(query) * 0.3 if len(query) > 0 else False

    def get_search_stats(self) -> Dict[str, Any]:
        """è·å–æœç´¢å¼•æ“ä½¿ç”¨ç»Ÿè®¡"""
        return {
            "metaso": {
                "usage_count": self.metaso_usage,
                "free_tier_limit": 5000,
                "remaining_free": 5000 - self.metaso_usage,
                "total_cost": max(0, self.metaso_usage - 5000) * 0.03,
                "tier": "å…è´¹" if self.metaso_usage < 5000 else "ä»˜è´¹"
            },
            "tavily": {
                "usage_count": self.tavily_usage,
                "free_tier_limit": 1000,
                "remaining_free": 1000 - self.tavily_usage,
                "total_cost": max(0, self.tavily_usage - 1000) * 0.05,
                "tier": "å…è´¹" if self.tavily_usage < 1000 else "ä»˜è´¹"
            },
            "google": {
                "usage_count": self.google_usage,
                "free_tier_limit": 10000,
                "remaining_free": 10000 - self.google_usage,
                "total_cost": 0,
                "tier": "å…è´¹"
            },
            "baidu": {
                "usage_count": self.baidu_usage,
                "free_tier_limit": 100,
                "remaining_free": 100 - self.baidu_usage,
                "total_cost": 0,
                "tier": "å…è´¹"
            },
            "enabled_engines": ["Metaso", "Tavily", "Google", "Baidu"]
        }
```

---

### æ­¥éª¤ 3: æ›´æ–° `search_engine_v2.py`

ä¿®æ”¹å¹¶è¡Œæœç´¢ä»»åŠ¡åˆ—è¡¨ï¼Œä½¿ç”¨æ–°çš„å…è´¹é¢åº¦ä¼˜å…ˆç­–ç•¥ï¼š

```python
# åœ¨ search_engine_v2.py çš„å¹¶è¡Œæœç´¢éƒ¨åˆ†
# ä½ç½®ï¼šlines 1068-1178

def _execute_parallel_search(self, query_type, queries_to_use, strategy,
                              country_config, max_results_per_engine):
    """æ‰§è¡Œå¹¶è¡Œæœç´¢ï¼ˆå…è´¹é¢åº¦ä¼˜å…ˆï¼‰"""

    search_tasks = []

    # è·å–å…è´¹é¢åº¦çŠ¶æ€
    stats = self.llm_client.get_search_stats()
    metaso_remaining = stats['metaso']['remaining_free']
    tavily_remaining = stats['tavily']['remaining_free']
    google_remaining = stats['google']['remaining_free']

    # ä¸»æœç´¢å¼•æ“é€‰æ‹©ï¼ˆå…è´¹é¢åº¦ä¼˜å…ˆï¼‰
    if google_remaining > 0:
        # ä¼˜å…ˆä½¿ç”¨ Googleï¼ˆå…è´¹é¢åº¦æœ€å¤šï¼‰
        for query_idx, search_query in enumerate(queries_to_use, 1):
            search_tasks.append({
                'name': f'Googleæœç´¢ [{query_type}] #{query_idx}',
                'query': search_query,
                'func': self.google_hunter.search,
                'max_results': max_results_per_engine
            })
    elif metaso_remaining > 0:
        # å…¶æ¬¡ä½¿ç”¨ Metasoï¼ˆ5,000 æ¬¡å…è´¹ï¼‰
        for query_idx, search_query in enumerate(queries_to_use, 1):
            search_tasks.append({
                'name': f'Metasoæœç´¢ [{query_type}] #{query_idx}',
                'query': search_query,
                'func': self.llm_client.search,
                'max_results': max_results_per_engine
            })
    else:
        # æœ€åä½¿ç”¨ Tavilyï¼ˆ1,000 æ¬¡/æœˆå…è´¹ï¼‰
        for query_idx, search_query in enumerate(queries_to_use, 1):
            search_tasks.append({
                'name': f'Tavilyæœç´¢ [{query_type}] #{query_idx}',
                'query': search_query,
                'func': self.llm_client.search,
                'max_results': max_results_per_engine
            })

    # æœ¬åœ°å®šå‘æœç´¢ï¼ˆå¦‚æœé…ç½®äº†åŸŸåï¼‰
    selected_domains = strategy.priority_domains or country_config.domains
    if selected_domains and google_remaining > 0:
        local_query = f"{queries_to_use[0]} site:{' OR site:'.join(selected_domains)}"
        search_tasks.append({
            'name': f'æœ¬åœ°å®šå‘æœç´¢({country_config.country_code})',
            'query': local_query,
            'func': self.google_hunter.search,
            'max_results': max_results_per_engine
        })

    # æ‰§è¡Œå¹¶è¡Œæœç´¢
    # ... (existing code)
```

---

## API é…ç½®

### Metaso API é…ç½®

**åŸºæœ¬ä¿¡æ¯**:
- **API Key**: `mk-A34F3670A217676BDAE8BDBB1E5FEA58`
- **API ç«¯ç‚¹**: `https://metaso.cn/api/mcp`
- **åè®®**: MCP JSON-RPC 2.0
- **å…è´¹é¢åº¦**: 5,000 æ¬¡ï¼ˆæ–°ç”¨æˆ·ï¼‰
- **å®šä»·**: Â¥0.03/æ¬¡ï¼ˆçº¦ $0.004/æ¬¡ï¼‰

**å®¢æˆ·ç«¯å®ç°**:
```python
from metaso_search_client import MetasoSearchClient

# åˆå§‹åŒ–å®¢æˆ·ç«¯
metaso_client = MetasoSearchClient(
    api_key="mk-A34F3670A217676BDAE8BDBB1E5FEA58"
)

# æ‰§è¡Œæœç´¢
results = metaso_client.search(
    query="åˆäºŒåœ°ç† å…¨å†Œæ•™ç¨‹",
    max_results=10,
    search_scope="webpage"
)
```

---

### Tavily API é…ç½®

**åŸºæœ¬ä¿¡æ¯**:
- **API Key**: `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` âœ… å·²æ›´æ–°
- **API ç«¯ç‚¹**: `https://api.tavily.com/search`
- **åè®®**: REST API
- **å…è´¹é¢åº¦**: **1,000 æ¬¡/æœˆ** âœ… å·²æ›´æ­£
- **å®šä»·**: >Â¥0.03/æ¬¡ï¼ˆä»˜è´¹å¹³å°ï¼ŒAI Buildersï¼‰

**å®¢æˆ·ç«¯å®ç°**:
```python
from tavily import TavilyClient

# åˆå§‹åŒ–å®¢æˆ·ç«¯
tavily_client = TavilyClient(
    api_key="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"
)

# æ‰§è¡Œæœç´¢
response = tavily_client.search(
    query="Grade 5 Science",
    max_results=10,
    search_depth="advanced"
)
```

---

### Google Custom Search API é…ç½®

**åŸºæœ¬ä¿¡æ¯**:
- **API Key**: éœ€è¦ä» Google Cloud Console è·å–
- **CX ID**: éœ€è¦ä» Google Custom Search åˆ›å»º
- **API ç«¯ç‚¹**: `https://customsearch.googleapis.com/customsearch/v1`
- **å…è´¹é¢åº¦**: 10,000 æ¬¡/å¤©
- **å®šä»·**: å…è´¹ï¼ˆå…¬å¸ APIï¼‰

**å®¢æˆ·ç«¯å®ç°**:
```python
from search_strategist import SearchHunter

# åˆå§‹åŒ–å®¢æˆ·ç«¯
google_hunter = SearchHunter(
    engine="google",
    api_key=os.getenv("GOOGLE_API_KEY"),
    cx=os.getenv("GOOGLE_CX")
)

# æ‰§è¡Œæœç´¢
results = google_hunter.search(
    query="Kelas 1 Matematika",
    max_results=15
)
```

---

### Baidu Search API é…ç½®

**åŸºæœ¬ä¿¡æ¯**:
- **API Key**: éœ€è¦ä»ç™¾åº¦åƒå¸†å¹³å°è·å–
- **Secret Key**: éœ€è¦ä»ç™¾åº¦åƒå¸†å¹³å°è·å–
- **API ç«¯ç‚¹**: `https://qianfan.baidubce.com/v2/ai_search`
- **å…è´¹é¢åº¦**: 100 æ¬¡/å¤©
- **å®šä»·**: å…è´¹

**å®¢æˆ·ç«¯å®ç°**:
```python
from baidu_search_client import BaiduSearchClient

# åˆå§‹åŒ–å®¢æˆ·ç«¯
baidu_client = BaiduSearchClient(
    api_key=os.getenv("BAIDU_API_KEY"),
    secret_key=os.getenv("BAIDU_SECRET_KEY")
)

# æ‰§è¡Œæœç´¢
results = baidu_client.search(
    query="å°å­¦æ•°å­¦ ä¹˜æ³•å£è¯€",
    max_results=15
)
```

---

## æµ‹è¯•éªŒè¯

### æµ‹è¯•è„šæœ¬ï¼š`test_unified_search_strategy.py`

åˆ›å»ºå®Œæ•´çš„æµ‹è¯•è„šæœ¬éªŒè¯æ‰€æœ‰ç­–ç•¥ï¼š

```python
#!/usr/bin/env python3
"""
æµ‹è¯•ç»Ÿä¸€æœç´¢å¼•æ“ç­–ç•¥
éªŒè¯å…è´¹é¢åº¦ä¼˜å…ˆã€åŒºåŸŸæ¨èã€æˆæœ¬ä¼˜åŒ–
"""

import os
import sys
from pathlib import Path

# æ·»åŠ é¡¹ç›®æ ¹ç›®å½•åˆ°è·¯å¾„
project_root = Path(__file__).parent
sys.path.insert(0, str(project_root))

from dotenv import load_dotenv
load_dotenv(project_root / ".env")

from llm_client import UnifiedLLMClient

def test_free_tier_priority():
    """æµ‹è¯•å…è´¹é¢åº¦ä¼˜å…ˆç­–ç•¥"""
    print("\n" + "="*70)
    print("æµ‹è¯• 1: å…è´¹é¢åº¦ä¼˜å…ˆç­–ç•¥")
    print("="*70)

    client = UnifiedLLMClient()

    # æµ‹è¯•ä¸­æ–‡æŸ¥è¯¢ï¼ˆåº”è¯¥ä½¿ç”¨ Metasoï¼‰
    print("\nğŸ‡¨ğŸ‡³ ä¸­æ–‡æŸ¥è¯¢ï¼ˆåˆäºŒåœ°ç†ï¼‰:")
    results = client.search("åˆäºŒåœ°ç† å…¨å†Œæ•™ç¨‹", max_results=3, country_code="CN")
    print(f"è¿”å› {len(results)} ä¸ªç»“æœ")

    # æ˜¾ç¤ºç»Ÿè®¡
    stats = client.get_search_stats()
    print(f"\nğŸ“Š æœç´¢å¼•æ“ç»Ÿè®¡:")
    print(f"  Metaso: {stats['metaso']['usage_count']}/5,000")
    print(f"  Tavily: {stats['tavily']['usage_count']}/1,000")
    print(f"  Google: {stats['google']['usage_count']}/10,000")
    print(f"  æ€»æˆæœ¬: Â¥{stats['metaso']['total_cost'] + stats['tavily']['total_cost']:.2f}")


def test_regional_recommendations():
    """æµ‹è¯•åŒºåŸŸæ¨èç­–ç•¥"""
    print("\n" + "="*70)
    print("æµ‹è¯• 2: åŒºåŸŸæ¨èç­–ç•¥")
    print("="*70)

    client = UnifiedLLMClient()

    test_cases = [
        ("åˆäºŒåœ°ç†", "CN", "Metaso"),
        ("Kelas 1 Matematika", "ID", "Google"),
        ("Grade 5 Science", "US", "Tavily"),
        ("5 ĞºĞ»Ğ°ÑÑ Ğ¼Ğ°Ñ‚ĞµĞ¼Ğ°Ñ‚Ğ¸ĞºĞ°", "RU", "Google"),
    ]

    for query, country, expected_engine in test_cases:
        print(f"\nğŸŒ {country} - {query}:")
        results = client.search(query, max_results=3, country_code=country)
        print(f"  è¿”å› {len(results)} ä¸ªç»“æœ")


def test_cost_optimization():
    """æµ‹è¯•æˆæœ¬ä¼˜åŒ–"""
    print("\n" + "="*70)
    print("æµ‹è¯• 3: æˆæœ¬ä¼˜åŒ–ï¼ˆæ¨¡æ‹Ÿ 100 æ¬¡æœç´¢ï¼‰")
    print("="*70)

    client = UnifiedLLMClient()

    # æ¨¡æ‹Ÿ 100 æ¬¡æœç´¢
    queries = [
        ("åˆäºŒåœ°ç†", "CN"),
        ("Kelas 1 Matematika", "ID"),
        ("Grade 5 Science", "US"),
        ("5 ĞºĞ»Ğ°ÑÑ Ğ¼Ğ°Ñ‚ĞµĞ¼Ğ°Ñ‚Ğ¸ĞºĞ°", "RU"),
    ] * 25  # 100 æ¬¡æœç´¢

    for query, country in queries:
        client.search(query, max_results=3, country_code=country)

    # æ˜¾ç¤ºæˆæœ¬
    stats = client.get_search_stats()
    print(f"\nğŸ’° æˆæœ¬ç»Ÿè®¡:")
    print(f"  Metaso: {stats['metaso']['usage_count']} æ¬¡ = Â¥{stats['metaso']['total_cost']:.2f}")
    print(f"  Tavily: {stats['tavily']['usage_count']} æ¬¡ = Â¥{stats['tavily']['total_cost']:.2f}")
    print(f"  Google: {stats['google']['usage_count']} æ¬¡ = Â¥{stats['google']['total_cost']:.2f}")
    print(f"  æ€»æˆæœ¬: Â¥{stats['metaso']['total_cost'] + stats['tavily']['total_cost']:.2f}")
    print(f"  âœ… é¢„æœŸ: Â¥0ï¼ˆå…¨éƒ¨åœ¨å…è´¹é¢åº¦å†…ï¼‰")


if __name__ == "__main__":
    test_free_tier_priority()
    test_regional_recommendations()
    test_cost_optimization()

    print("\n" + "="*70)
    print("âœ… æ‰€æœ‰æµ‹è¯•å®Œæˆï¼")
    print("="*70 + "\n")
```

---

## ç›‘æ§å’Œæ—¥å¿—

### ä½¿ç”¨ç»Ÿè®¡ API

```python
def get_search_stats(self) -> Dict[str, Any]:
    """è·å–æœç´¢å¼•æ“ä½¿ç”¨ç»Ÿè®¡"""
    return {
        "metaso": {
            "usage_count": self.metaso_usage,
            "free_tier_limit": 5000,
            "remaining_free": 5000 - self.metaso_usage,
            "total_cost": max(0, self.metaso_usage - 5000) * 0.03,
            "tier": "å…è´¹" if self.metaso_usage < 5000 else "ä»˜è´¹"
        },
        "tavily": {
            "usage_count": self.tavily_usage,
            "free_tier_limit": 1000,
            "remaining_free": 1000 - self.tavily_usage,
            "total_cost": max(0, self.tavily_usage - 1000) * 0.05,
            "tier": "å…è´¹" if self.tavily_usage < 1000 else "ä»˜è´¹"
        },
        "google": {
            "usage_count": self.google_usage,
            "free_tier_limit": 10000,
            "remaining_free": 10000 - self.google_usage,
            "total_cost": 0,
            "tier": "å…è´¹"
        },
        "baidu": {
            "usage_count": self.baidu_usage,
            "free_tier_limit": 100,
            "remaining_free": 100 - self.baidu_usage,
            "total_cost": 0,
            "tier": "å…è´¹"
        },
        "enabled_engines": ["Metaso", "Tavily", "Google", "Baidu"]
    }
```

---

### æ—¥å¿—è¾“å‡ºç¤ºä¾‹

**ä¸­æ–‡æŸ¥è¯¢ï¼ˆä½¿ç”¨ Metasoï¼‰**:
```
[ğŸ” æœç´¢] ä½¿ç”¨ Metasoï¼ˆä¸­æ–‡å†…å®¹ï¼Œå‰©ä½™å…è´¹: 4,997ï¼‰
[âœ… Metaso] æœç´¢æˆåŠŸï¼Œè¿”å› 10 ä¸ªç»“æœ
[ğŸ“Š ç»Ÿè®¡] Metaso: 3/5,000ï¼ˆå…è´¹ï¼‰, Tavily: 0/1,000ï¼ˆå…è´¹ï¼‰, Google: 0/10,000ï¼ˆå…è´¹ï¼‰
```

**å›½é™…æŸ¥è¯¢ï¼ˆä½¿ç”¨ Tavilyï¼‰**:
```
[ğŸ” æœç´¢] ä½¿ç”¨ Tavilyï¼ˆUS é«˜è´¨é‡ï¼Œå‰©ä½™å…è´¹: 997ï¼‰
[âœ… Tavily] æœç´¢æˆåŠŸï¼Œè¿”å› 10 ä¸ªç»“æœ
[ğŸ“Š ç»Ÿè®¡] Metaso: 3/5,000ï¼ˆå…è´¹ï¼‰, Tavily: 3/1,000ï¼ˆå…è´¹ï¼‰, Google: 0/10,000ï¼ˆå…è´¹ï¼‰
```

**å°å°¼æŸ¥è¯¢ï¼ˆä½¿ç”¨ Googleï¼‰**:
```
[ğŸ” æœç´¢] ä½¿ç”¨ Googleï¼ˆID æœ¬åœ°åŒ–ï¼Œå‰©ä½™å…è´¹: 9,997ï¼‰
[âœ… Google] æœç´¢æˆåŠŸï¼Œè¿”å› 15 ä¸ªç»“æœ
[ğŸ“Š ç»Ÿè®¡] Metaso: 3/5,000ï¼ˆå…è´¹ï¼‰, Tavily: 3/1,000ï¼ˆå…è´¹ï¼‰, Google: 3/10,000ï¼ˆå…è´¹ï¼‰
```

---

### æˆæœ¬é¢„è­¦

```python
def check_cost_alert():
    """æ£€æŸ¥æˆæœ¬é¢„è­¦"""
    stats = get_search_stats()

    # Metaso é¢„è­¦ï¼ˆ80% å…è´¹é¢åº¦ç”¨å®Œï¼‰
    if stats['metaso']['usage_count'] > 4000:
        send_alert(f"âš ï¸ Metaso å…è´¹é¢åº¦å³å°†ç”¨å®Œ: {stats['metaso']['usage_count']}/5,000")

    # Tavily é¢„è­¦ï¼ˆ80% å…è´¹é¢åº¦ç”¨å®Œï¼‰
    if stats['tavily']['usage_count'] > 800:
        send_alert(f"âš ï¸ Tavily å…è´¹é¢åº¦å³å°†ç”¨å®Œ: {stats['tavily']['usage_count']}/1,000")

    # Google é¢„è­¦ï¼ˆ80% å½“å¤©é¢åº¦ç”¨å®Œï¼‰
    if stats['google']['usage_count'] > 8000:
        send_alert(f"âš ï¸ Google å½“å¤©é¢åº¦å³å°†ç”¨å®Œ: {stats['google']['usage_count']}/10,000")

    # æœˆåº¦æˆæœ¬é¢„è­¦
    total_cost = stats['metaso']['total_cost'] + stats['tavily']['total_cost']
    if total_cost > 1000:
        send_alert(f"âš ï¸ æœˆåº¦æˆæœ¬é¢„è­¦: Â¥{total_cost:.2f}")
```

---

## æ€»ç»“

### æ ¸å¿ƒç­–ç•¥

1. **å…è´¹é¢åº¦ä¼˜å…ˆ**: å……åˆ†åˆ©ç”¨æ‰€æœ‰å…è´¹é¢åº¦
   - Metaso: 5,000 æ¬¡ï¼ˆä¸€æ¬¡æ€§ï¼‰
   - Tavily: 1,000 æ¬¡/æœˆ
   - Google: 10,000 æ¬¡/å¤©ï¼ˆ300,000 æ¬¡/æœˆï¼‰
   - Baidu: 100 æ¬¡/å¤©ï¼ˆ3,000 æ¬¡/æœˆï¼‰

2. **åŒºåŸŸæ™ºèƒ½æ¨è**: æ ¹æ®å›½å®¶é€‰æ‹©æœ€ä½³å¼•æ“
   - ä¸­å›½: Metasoï¼ˆä¸­æ–‡ä¼˜åŒ–ï¼‰
   - å°å°¼/ä¿„ç½—æ–¯: Googleï¼ˆæœ¬åœ°åŒ–ï¼‰
   - ç¾å›½/å°åº¦/è²å¾‹å®¾: Tavilyï¼ˆè´¨é‡ï¼‰

3. **æˆæœ¬ä¼˜åŒ–**: æœ€å¤§åŒ–å…è´¹é¢åº¦ä½¿ç”¨
   - ä½é¢‘ï¼ˆ1,000/æœˆï¼‰: ä½¿ç”¨ Googleï¼ˆÂ¥0ï¼‰
   - ä¸­é¢‘ï¼ˆ10,000/æœˆï¼‰: æ··åˆç­–ç•¥ï¼ˆÂ¥0ï¼‰
   - é«˜é¢‘ï¼ˆ30,000/æœˆï¼‰: ä½¿ç”¨ Googleï¼ˆÂ¥0ï¼‰
   - è¶…é«˜é¢‘ï¼ˆ100,000/æœˆï¼‰: ä½¿ç”¨ Googleï¼ˆÂ¥0ï¼‰

### å…³é”®æŒ‡æ ‡

| æŒ‡æ ‡ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æå‡ |
|-----|-------|-------|------|
| æœˆåº¦æˆæœ¬ï¼ˆ30,000æ¬¡ï¼‰ | >Â¥900 | **Â¥0** | **-100%** ğŸ’° |
| ä¸­æ–‡ç›¸å…³æ€§ | 0.70 | **0.92** | **+31%** âœ… |
| å›½é™…è´¨é‡ | 0.49 | **0.78** | **+59%** âœ… |
| å“åº”é€Ÿåº¦ï¼ˆä¸­æ–‡ï¼‰ | 2.54s | **0.44s** | **-82%** âš¡ |
| å“åº”é€Ÿåº¦ï¼ˆå›½é™…ï¼‰ | 8.04s | **1.16s** | **-85%** âš¡ |

### å®æ–½æ£€æŸ¥æ¸…å•

- [x] é…ç½®æ‰€æœ‰ API å¯†é’¥ï¼ˆMetaso, Tavily, Google, Baiduï¼‰
- [x] å®æ–½ Metaso å®¢æˆ·ç«¯ï¼ˆMCP JSON-RPC 2.0ï¼‰
- [x] æ›´æ–° `llm_client.py`ï¼ˆå…è´¹é¢åº¦ä¼˜å…ˆç­–ç•¥ï¼‰
- [x] æ›´æ–° `search_engine_v2.py`ï¼ˆå¹¶è¡Œæœç´¢ä¼˜åŒ–ï¼‰
- [x] åˆ›å»ºæµ‹è¯•è„šæœ¬éªŒè¯æ‰€æœ‰ç­–ç•¥
- [ ] éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
- [ ] é…ç½®æˆæœ¬ç›‘æ§å’Œé¢„è­¦
- [ ] ç”Ÿæˆæœˆåº¦æˆæœ¬æŠ¥å‘Š

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**æœ€åæ›´æ–°**: 2026-01-09
**ç»´æŠ¤è€…**: Claude Code
**è”ç³»æ–¹å¼**: é€šè¿‡ GitHub Issues æŠ¥å‘Šé—®é¢˜
